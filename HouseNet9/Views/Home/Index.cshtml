@using Data.Data.HouseRentalData
@* @{ ViewData["Title"] = "Home Page"; } *@
@model Data.Data.HouseRentalData.House

@section scripts {
<script>
            $(document).ready(function(){
            $.ajax({url: "@Url.Action("Index", "GetCalendar")", success: function(result){
              $("#calendar").html(result);
            }});
          });
</script>
}



<div class="text-center my-4">
    <h1 class="display-4">Welcome</h1>
    <p>Learn about building Web apps with ASP.NET Core.</p>
</div>


@* *************************  DescriptionPages ************************* *@
<div class="row my-4">
@{
    if(Model != null && Model.DescriptionPages != null)
    foreach( DescriptionPage descriptionPage in Model.DescriptionPages)
    {
     @:<div class="col-12 text-left">
            if(descriptionPage.Image != null)
            {
                <h6 class="display-4 d-flex align-items-center">
                    <img class="mr-2" src="@Url.Content("~/uploads/" + (descriptionPage.Image == null ? "no_photography_24dp.svg" : descriptionPage.Image.Path))" alt="Przesłany obraz" />
                    @descriptionPage.Title
                </h6>
                <p>@descriptionPage.Description</p>
            }
     @:</div>
    }
}
</div>

@* *************************  GeneralInformation ************************* *@
<div class="d-flex flex-wrap bd-highlight justify-content-center my-4">
    @{
        House? house = Model;

        if (house != null && house.GeneralInformation != null)
            foreach (GeneralInformation item in house.GeneralInformation)
            {
                @:<div class="card p-4 m-2 d-inline justify-content-center">
                    if (item.Image != null && item.Image.Path != null)
                    {
                            <img src="@Url.Content("~/uploads/" + item.Image.Path)" alt="Przesłany obraz" />
                            @Html.DisplayFor(modelItem => item.Name)
                    }
                    else
                    {
                            <img src="@Url.Content("~/uploads/" + "no_photography_24dp.svg")" alt="Przesłany obraz" />
                            @Html.DisplayFor(modelItem => item.Name)
                    }
                @:</div>
            }
    }
</div>

@* *************************  Calendar ************************* *@
<div id="calendar"><h2>Kalendarz Rezerwacji</h2></div>


 @* *************************  DetailedInformation ************************* *@                           
<div class="row  my-4">
    <div class="col-12">
        <div class="card-columns">
            @foreach(DetailedInformation information in Model.DetailedInformation)
            {
                <div class="card">
                    <div class="card-body">
                        <h5 class="card-title d-flex align-items-center"> <img class="mr-2" src="@Url.Content("~/uploads/" + (information.Image == null ? "no_photography_24dp.svg" : information.Image.Path))" alt="Przesłany obraz" />@information.Name</h5>
                        @foreach(DetailedInformationItem detailedInformationItem in information.DetailedInformationItems )
                        {
                            <div class="d-flex align-items-center">  <img src="~/uploads/check_24dp.svg" class="mr-2" />@detailedInformationItem.Description</div> 
                        }
                    </div>
                </div>
            }
        </div>
    </div>
</div>

@* *************************  Distance ************************* *@   

<div class="row  my-4">
    <div class="col-12">
        <div class="card-columns">
            @foreach(Distance distance in Model.Distances)
            {
                <div class="card card-2-border" >@* class="card" *@
                    <div class="card-body">
                        <h5 class="card-title d-flex align-items-center"> <img class="mr-2" src="@Url.Content("~/uploads/" + (distance.Image == null ? "no_photography_24dp.svg" : distance.Image.Path))" alt="Przesłany obraz" />@distance.Name</h5>
                        
                        @{
                            if (distance != null && distance.DistanceItems != null)
                                foreach (DistanceItem item in distance.DistanceItems)
                                {
                                    <div class="d-flex justify-content-between"><span>@item.NameInfo</span><span>@item.DistanceInfo</span></div>   
                                }
                        }
                    </div>
                </div>
            }
        </div>
    </div>
</div>